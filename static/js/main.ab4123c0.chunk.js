(this.webpackJsonpreact_guitar_shop=this.webpackJsonpreact_guitar_shop||[]).push([[0],{14:function(e,t,a){e.exports={card:"Card_card__2t-65",card__img:"Card_card__img__nKJBd",card__name:"Card_card__name__1DXXE",card__price:"Card_card__price__3ISMe",card__btn_select:"Card_card__btn_select__Xwij2",card__btn_unselect:"Card_card__btn_unselect__3KP9Q"}},19:function(e,t,a){e.exports={basket:"Basket_basket__FyIkS",basket__container:"Basket_basket__container__3lios",basket__bar:"Basket_basket__bar__lW54N",basket__close:"Basket_basket__close__3l6bg"}},20:function(e,t,a){e.exports={basketCard:"BasketCard_basketCard__3EqO2",basketCard__btn:"BasketCard_basketCard__btn__1p53q",basketCard__name:"BasketCard_basketCard__name__2W-Tw"}},27:function(e,t,a){e.exports={preloader:"Preloader_preloader__1paj6",preloader__spinner:"Preloader_preloader__spinner__r4JrW"}},38:function(e,t,a){e.exports={header:"Header_header__3YHWs"}},40:function(e,t,a){e.exports={basketButton:"BasketButton_basketButton__2QycF"}},41:function(e,t,a){e.exports={cardPlace:"CardPlace_cardPlace__3zH7r"}},43:function(e,t,a){e.exports=a.p+"static/media/spinner.3ee1f401.gif"},44:function(e,t,a){e.exports={error:"Failed_error__2T91E"}},46:function(e,t,a){e.exports=a(74)},51:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=a(3),l=a(4),o=a(6),_=a(5),u=(a(51),a(38)),d=a.n(u),b=a(12),p=a(16),m=a(40),f=a.n(m),k=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(p.b,{to:"/basket",className:f.a.basketButton},"\ud83d\udd14 ",this.props.basketCount)}}]),a}(r.a.Component),O=Object(b.b)((function(e){return{basketCount:e.cardsPlace.basket.length}}),{})(k),E=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:d.a.header},r.a.createElement(O,null))}}]),a}(r.a.Component),h=a(41),j=a.n(h),C=a(42),g=function(e){return function(t){var a=JSON.parse(localStorage.getItem("basket")),n=a.indexOf(e);a.splice(n,1),localStorage.setItem("basket",JSON.stringify(a)),t({type:"ADD_OR_DEL_ITEM_IN_BASKET",basket:a=JSON.parse(localStorage.getItem("basket"))})}},v=a(14),y=a.n(v),S=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y.a.card},r.a.createElement("div",{className:y.a.card__name},this.props.name),r.a.createElement("img",{className:y.a.card__img,src:this.props.img,alt:""}),r.a.createElement("div",{className:y.a.card__price},r.a.createElement("span",{role:"img","aria-label":""},"\u26a1")," ",this.props.price," \u0440\u0443\u0431."),-1!==this.props.basket.indexOf(this.props.id)?r.a.createElement("button",{className:y.a.card__btn_select,onClick:function(){return e.props.delItemOfBasket(e.props.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"):r.a.createElement("button",{className:y.a.card__btn_unselect,onClick:function(){return e.props.addItemInBasket(e.props.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))}}]),a}(r.a.Component),N={addItemInBasket:function(e){return function(t){var a=JSON.parse(localStorage.getItem("basket"));null!==a?a.push(e):a=[e],localStorage.setItem("basket",JSON.stringify(a)),t({type:"ADD_OR_DEL_ITEM_IN_BASKET",basket:a=JSON.parse(localStorage.getItem("basket"))})}},delItemOfBasket:g},I=Object(b.b)((function(e){return{basket:e.cardsPlace.basket}}),N)(S),B=a(27),D=a.n(B),T=a(43),P=a.n(T),x=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:D.a.preloader},r.a.createElement("img",{className:D.a.preloader__spinner,src:P.a,alt:""}))}}]),a}(r.a.Component),A=a(44),F=a.n(A),J=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:F.a.error},"\u0423\u043f\u0441, \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0437\u0436\u0435.")}}]),a}(r.a.Component),R=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.failed?r.a.createElement(J,null):this.props.isFetching?r.a.createElement(x,null):r.a.createElement("div",{className:j.a.cardPlace},this.props.cards.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},e))}))))}}]),a}(r.a.Component),w=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.setCards()}},{key:"render",value:function(){return r.a.createElement(R,{cards:this.props.cards,isFetching:this.props.isFetching,failed:this.props.failed})}}]),a}(r.a.Component),G={setCards:function(){return function(e){e({type:"GET_CARDS_REQUEST"}),C.get("https://gist.githubusercontent.com/TenTax/feecd89f8752ec781b52a4ad328ab45e/raw/8a46d89d7a60631461ccbac7fe34431a9e65e688/guitarShop.json").then((function(t){e({type:"GET_CARDS_SUCCESS",cards:t.data})})).catch((function(t){e({type:"GET_CARDS_FAILED"})}))}}},K=Object(b.b)((function(e){return{cards:e.cardsPlace.cards,isFetching:e.cardsPlace.isFetching,failed:e.cardsPlace.failed}}),G)(w),L=a(2),M=a(19),Q=a.n(M),U=a(20),W=a.n(U),H=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.price,c=e.delItemOfBasket;return r.a.createElement("tr",{className:W.a.basketCard},r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__name},"\u26a1 ",a)),r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__price},n," \u0440\u0443\u0431.")),r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__btn,onClick:function(){return c(t)}})))}}]),a}(r.a.Component),X=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=[],a=0;return this.props.cards.forEach((function(n){-1!==e.props.basket.indexOf(n.id)&&(t.push(n),a+=n.price)})),r.a.createElement("div",{className:Q.a.basket},r.a.createElement("div",{className:Q.a.basket__container},r.a.createElement("div",{className:Q.a.basket__bar},r.a.createElement("div",null,"\ud83d\udd14 \u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",a," \u0440\u0443\u0431."),r.a.createElement(p.b,{to:"/",className:Q.a.basket__close})),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement(H,Object.assign({key:t.id},t,{delItemOfBasket:e.props.delItemOfBasket}))})))))}}]),a}(r.a.Component),q={delItemOfBasket:g},z=Object(b.b)((function(e){return{cards:e.cardsPlace.cards,basket:e.cardsPlace.basket}}),q)(X),Y=function(e){Object(o.a)(a,e);var t=Object(_.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(K,null),r.a.createElement(L.a,{path:"/basket",render:function(){return r.a.createElement(z,null)}})))}}]),a}(r.a.Component),V=a(17),Z=a(13),$={cards:[],isFetching:!1,failed:!1,basket:Boolean(localStorage.getItem("basket"))?JSON.parse(localStorage.getItem("basket")):[]},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CARDS_REQUEST":return Object(Z.a)(Object(Z.a)({},e),{},{isFetching:!0});case"GET_CARDS_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{cards:t.cards,isFetching:!1});case"GET_CARDS_FAILED":return Object(Z.a)(Object(Z.a)({},e),{},{failed:!0});case"ADD_OR_DEL_ITEM_IN_BASKET":return Object(Z.a)(Object(Z.a)({},e),{},{basket:t.basket});default:return e}},te=a(45),ae=Object(V.c)({cardsPlace:ee}),ne=Object(V.d)(ae,Object(V.a)(te.a));s.a.render(r.a.createElement(b.a,{store:ne},r.a.createElement(Y,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ab4123c0.chunk.js.map