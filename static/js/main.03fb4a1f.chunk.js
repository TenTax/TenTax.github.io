(this.webpackJsonpreact_guitar_shop=this.webpackJsonpreact_guitar_shop||[]).push([[0],{14:function(e,t,a){e.exports={card:"Card_card__2t-65",card__img:"Card_card__img__nKJBd",card__name:"Card_card__name__1DXXE",card__price:"Card_card__price__3ISMe",card__btn_select:"Card_card__btn_select__Xwij2",card__btn_unselect:"Card_card__btn_unselect__3KP9Q"}},19:function(e,t,a){e.exports={basket:"Basket_basket__FyIkS",basket__container:"Basket_basket__container__3lios",basket__bar:"Basket_basket__bar__lW54N",basket__close:"Basket_basket__close__3l6bg"}},20:function(e,t,a){e.exports={basketCard:"BasketCard_basketCard__3EqO2",basketCard__btn:"BasketCard_basketCard__btn__1p53q",basketCard__name:"BasketCard_basketCard__name__2W-Tw"}},27:function(e,t,a){e.exports={preloader:"Preloader_preloader__1paj6",preloader__spinner:"Preloader_preloader__spinner__r4JrW"}},39:function(e,t,a){e.exports={header:"Header_header__3YHWs"}},41:function(e,t,a){e.exports={basketButton:"BasketButton_basketButton__2QycF"}},42:function(e,t,a){e.exports={cardPlace:"CardPlace_cardPlace__3zH7r"}},43:function(e,t,a){e.exports=a.p+"static/media/spinner.3ee1f401.gif"},44:function(e,t,a){e.exports={error:"Failed_error__2T91E"}},46:function(e,t,a){e.exports=a(74)},51:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=a(3),o=a(4),l=a(6),u=a(5),d=(a(51),a(39)),_=a.n(d),b=a(13),p=a(16),m=a(41),f=a.n(m),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(p.b,{to:"/basket",className:f.a.basketButton},"\ud83d\udd14 ",this.props.basketCount)}}]),a}(r.a.Component),O=Object(b.b)((function(e){return{basketCount:e.cardsPlace.basket.length}}),(function(e){return{}}))(k),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:_.a.header},r.a.createElement(O,null))}}]),a}(r.a.Component),E=a(42),j=a.n(E),g=function(e){return{type:"DEL_ITEM_OF_BASKET",itemId:e}},v=a(14),C=a.n(v),y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:C.a.card},r.a.createElement("div",{className:C.a.card__name},this.props.name),r.a.createElement("img",{className:C.a.card__img,src:this.props.img,alt:""}),r.a.createElement("div",{className:C.a.card__price},r.a.createElement("span",{role:"img","aria-label":""},"\u26a1")," ",this.props.price," \u0440\u0443\u0431."),-1!==this.props.basket.indexOf(this.props.id)?r.a.createElement("button",{className:C.a.card__btn_select,onClick:function(){return e.props.delItemOfBasket(e.props.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"):r.a.createElement("button",{className:C.a.card__btn_unselect,onClick:function(){return e.props.addItemInBasket(e.props.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))}}]),a}(r.a.Component),I=Object(b.b)((function(e){return{basket:e.cardsPlace.basket}}),(function(e){return{addItemInBasket:function(t){return e(function(e){return{type:"ADD_ITEM_IN_BASKET",itemId:e}}(t))},delItemOfBasket:function(t){return e(g(t))}}}))(y),N=a(27),B=a.n(N),S=a(43),F=a.n(S),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:B.a.preloader},r.a.createElement("img",{className:B.a.preloader__spinner,src:F.a,alt:""}))}}]),a}(r.a.Component),P=a(44),x=a.n(P),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:x.a.error},"\u0423\u043f\u0441, \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0437\u0436\u0435.")}}]),a}(r.a.Component),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.failed?r.a.createElement(D,null):this.props.isFetching?r.a.createElement(T,null):r.a.createElement("div",{className:j.a.cardPlace},this.props.cards.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},e))}))))}}]),a}(r.a.Component),J=a(45),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleFetch(!0),J.get("https://gist.githubusercontent.com/TenTax/feecd89f8752ec781b52a4ad328ab45e/raw/8a46d89d7a60631461ccbac7fe34431a9e65e688/guitarShop.json").then((function(t){e.props.setCards(t.data),e.props.toggleFetch(!1)})).catch((function(t){console.log(t),e.props.setFailed(!0)}))}},{key:"render",value:function(){return r.a.createElement(A,{cards:this.props.cards,isFetching:this.props.isFetching,failed:this.props.failed})}}]),a}(r.a.Component),K=Object(b.b)((function(e){return{cards:e.cardsPlace.cards,isFetching:e.cardsPlace.isFetching,failed:e.cardsPlace.failed}}),(function(e){return{setCards:function(t){return e(function(e){return{type:"SET_CARDS",cards:e}}(t))},toggleFetch:function(t){return e(function(e){return{type:"TOGGLE_FETCH",toggle:e}}(t))},setFailed:function(t){return e({type:"SET_FAILED",toggle:t})}}}))(w),L=a(2),M=a(19),H=a.n(M),G=a(20),W=a.n(G),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.price,c=e.delItemOfBasket;return r.a.createElement("tr",{className:W.a.basketCard},r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__name},"\u26a1 ",a)),r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__price},n," \u0440\u0443\u0431.")),r.a.createElement("td",null,r.a.createElement("div",{className:W.a.basketCard__btn,onClick:function(){return c(t)}})))}}]),a}(r.a.Component),q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[],a=0;return this.props.cards.forEach((function(n){-1!==e.props.basket.indexOf(n.id)&&(t.push(n),a+=n.price)})),r.a.createElement("div",{className:H.a.basket},r.a.createElement("div",{className:H.a.basket__container},r.a.createElement("div",{className:H.a.basket__bar},r.a.createElement("div",null,"\ud83d\udd14 \u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",a," \u0440\u0443\u0431."),r.a.createElement(p.b,{to:"/",className:H.a.basket__close})),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement(X,Object.assign({key:t.id},t,{delItemOfBasket:e.props.delItemOfBasket}))})))))}}]),a}(r.a.Component),Q=Object(b.b)((function(e){return{cards:e.cardsPlace.cards,basket:e.cardsPlace.basket}}),(function(e){return{delItemOfBasket:function(t){return e(g(t))}}}))(q),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(K,null),r.a.createElement(L.a,{path:"/basket",render:function(){return r.a.createElement(Q,null)}})))}}]),a}(r.a.Component),z=a(18),Y=a(28),U=a(12),V={cards:[],isFetching:!1,failed:!1,basket:Boolean(localStorage.getItem("basket"))?JSON.parse(localStorage.getItem("basket")):[]},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARDS":return Object(U.a)(Object(U.a)({},e),{},{cards:t.cards});case"ADD_ITEM_IN_BASKET":var a=[].concat(Object(Y.a)(e.basket),[t.itemId]);localStorage.setItem("basket",JSON.stringify(a)),a=JSON.parse(localStorage.getItem("basket"));var n=Object(U.a)(Object(U.a)({},e),{},{basket:a});return n;case"DEL_ITEM_OF_BASKET":var r=Object(Y.a)(e.basket),c=r.indexOf(t.itemId);r.splice(c,1),localStorage.setItem("basket",JSON.stringify(r)),r=JSON.parse(localStorage.getItem("basket"));var s=Object(U.a)(Object(U.a)({},e),{},{basket:r});return s;case"TOGGLE_FETCH":return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.toggle});case"SET_FAILED":return Object(U.a)(Object(U.a)({},e),{},{failed:t.toggle});default:return e}},$=Object(z.b)({cardsPlace:Z}),ee=Object(z.c)($);s.a.render(r.a.createElement(b.a,{store:ee},r.a.createElement(R,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.03fb4a1f.chunk.js.map